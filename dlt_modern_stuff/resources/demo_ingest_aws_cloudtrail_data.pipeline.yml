resources:
  pipelines:
    demo_ingest_aws_cloudtrail_data:
      name: 'SDP Cyber Demo: Ingest AWS Cloudtrail data'
      configuration:
        "conf.gold_catalog_name": ${var.catalog_name}
        "conf.gold_schema_name": ${var.normalized_schema_name}
        "conf.aws_cloudtrail_input": "${var.log_files_path}/logs/aws_cloudtrail/"
      libraries:
        - notebook:
            path: ../src/ingest_aws_cloudtrail.py
      catalog: ${var.catalog_name}
      schema: ${var.silver_schema_name}
      channel: CURRENT
      # development: true
      serverless: true
